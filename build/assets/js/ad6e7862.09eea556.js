"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[318],{403:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=n(5893),t=n(1151);const o={},r="Integrating VAP (Video Animation Player) in Android with Kotlin",l={id:"animation/vap-mp4",title:"Integrating VAP (Video Animation Player) in Android with Kotlin",description:"Overview",source:"@site/docs/animation/vap-mp4.md",sourceDirName:"animation",slug:"/animation/vap-mp4",permalink:"/docs/animation/vap-mp4",draft:!1,unlisted:!1,editUrl:"https://github.com/arab-apps/docs/animation/vap-mp4.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"animation",permalink:"/docs/category/animation"}},d={},s=[{value:"Overview",id:"overview",level:2},{value:"Steps",id:"steps",level:2},{value:"1. Add the VAP Library to Your Project",id:"1-add-the-vap-library-to-your-project",level:3},{value:"2. Initialize VAP in Your Activity or Fragment",id:"2-initialize-vap-in-your-activity-or-fragment",level:3},{value:"3. Add VAPView to Your XML Layout",id:"3-add-vapview-to-your-xml-layout",level:3},{value:"4. Play the Video",id:"4-play-the-video",level:3},{value:"5. Handle Video Completion",id:"5-handle-video-completion",level:3},{value:"6. Replace an Image with the User&#39;s Image (Example)",id:"6-replace-an-image-with-the-users-image-example",level:3},{value:"7. Customization",id:"7-customization",level:3},{value:"8. Optimizing Performance",id:"8-optimizing-performance",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.h1,{id:"integrating-vap-video-animation-player-in-android-with-kotlin",children:"Integrating VAP (Video Animation Player) in Android with Kotlin"}),"\n",(0,a.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(i.p,{children:"This guide explains how to integrate the VAP (Video Animation Player) library into an Android application using Kotlin."}),"\n",(0,a.jsx)(i.h2,{id:"steps",children:"Steps"}),"\n",(0,a.jsx)(i.h3,{id:"1-add-the-vap-library-to-your-project",children:"1. Add the VAP Library to Your Project"}),"\n",(0,a.jsxs)(i.p,{children:["To integrate VAP, add the following dependency to your ",(0,a.jsx)(i.code,{children:"build.gradle"})," file:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-groovy",children:"dependencies {\n    implementation 'com.tencent.qgame:vap:latest_version'\n}\n"})}),"\n",(0,a.jsx)(i.h3,{id:"2-initialize-vap-in-your-activity-or-fragment",children:"2. Initialize VAP in Your Activity or Fragment"}),"\n",(0,a.jsx)(i.p,{children:"In your Kotlin code, initialize the VAP player:"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:'val vapView = findViewById<VapView>(R.id.vap_view)\nvapView.setVideoPath("path_to_your_video.mp4")\nvapView.play()\n'})}),"\n",(0,a.jsx)(i.h3,{id:"3-add-vapview-to-your-xml-layout",children:"3. Add VAPView to Your XML Layout"}),"\n",(0,a.jsxs)(i.p,{children:["Include the ",(0,a.jsx)(i.code,{children:"VapView"})," in your XML layout file:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-xml",children:'<com.tencent.qgame.vap.view.VapView\n    android:id="@+id/vap_view"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent" />\n'})}),"\n",(0,a.jsx)(i.h3,{id:"4-play-the-video",children:"4. Play the Video"}),"\n",(0,a.jsxs)(i.p,{children:["After setting the video path, use ",(0,a.jsx)(i.code,{children:"play()"})," to start the video:"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:"vapView.play()\n"})}),"\n",(0,a.jsx)(i.h3,{id:"5-handle-video-completion",children:"5. Handle Video Completion"}),"\n",(0,a.jsxs)(i.p,{children:["To handle the end of the video and ensure optimal performance, use an ",(0,a.jsx)(i.code,{children:"OnCompletionListener"}),":"]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:"vapView.setOnCompletionListener {\n    // Stop the video\n    vapView.stop()\n\n    // Optionally, you can restart the video\n    vapView.play()\n\n    // Or clean up the resources\n    vapView.release()\n\n    // You may also hide the view or perform other UI changes\n    vapView.visibility = View.GONE\n}\n"})}),"\n",(0,a.jsx)(i.h3,{id:"6-replace-an-image-with-the-users-image-example",children:"6. Replace an Image with the User's Image (Example)"}),"\n",(0,a.jsx)(i.p,{children:"If you want to replace an existing image with the user's image, you can do it programmatically after loading the user's image:"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-kotlin",children:'val userImage = BitmapFactory.decodeFile("path_to_user_image")\n\n// Example: Replacing the background image of the VapView with the user\'s image\nvapView.setBackground(BitmapDrawable(resources, userImage))\n\n// Or, if using an ImageView\nval imageView = findViewById<ImageView>(R.id.imageView)\nimageView.setImageBitmap(userImage)\n'})}),"\n",(0,a.jsx)(i.h3,{id:"7-customization",children:"7. Customization"}),"\n",(0,a.jsx)(i.p,{children:"Customize the player by exploring the various control interfaces provided by the VAP library."}),"\n",(0,a.jsx)(i.h3,{id:"8-optimizing-performance",children:"8. Optimizing Performance"}),"\n",(0,a.jsx)(i.p,{children:"To maintain optimal device performance:"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:["Release resources (",(0,a.jsx)(i.code,{children:"vapView.release()"}),") when the video is no longer needed."]}),"\n",(0,a.jsx)(i.li,{children:"Use efficient memory management techniques by disposing of the view when not in use."}),"\n",(0,a.jsx)(i.li,{children:"Monitor the CPU and memory usage, and ensure that the video handling does not cause excessive battery drain."}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,a.jsxs)(i.p,{children:["For more details and advanced features, refer to the ",(0,a.jsx)(i.a,{href:"https://github.com/Tencent/vap",children:"VAP GitHub Repository"}),"."]}),"\n",(0,a.jsx)(i.hr,{}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.strong,{children:"Thank you from the \u2764\ufe0f from the Arab Apps team"})})]})}function h(e={}){const{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},1151:(e,i,n)=>{n.d(i,{Z:()=>l,a:()=>r});var a=n(7294);const t={},o=a.createContext(t);function r(e){const i=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(o.Provider,{value:i},e.children)}}}]);